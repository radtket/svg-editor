(this["webpackJsonpsvg-editor"]=this["webpackJsonpsvg-editor"]||[]).push([[0],{35:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var s=n(1),o=n.n(s),i=n(10),a=n.n(i),r=n(0);var l=e=>{e&&e instanceof Function&&n.e(3).then(n.bind(null,37)).then((t=>{let{getCLS:n,getFID:s,getFCP:o,getLCP:i,getTTFB:a}=t;n(e),s(e),o(e),i(e),a(e)}))},c=n(2),d=n(3),h=n.n(d),p=n(4),u=n.n(p),m=n(5),b=n.n(m),g=n(11);const x=n.n(g)()({base:8,ratios:[9/8,4/3,4/3]});var j={title:"Paths",commands:Object.keys(u.a).filter((e=>e.match(/[A-Z]/))),padding:8,scale:x,styles:{pad:x},colors:{cyan:"cyan",blue:"#0cf",dark:"#222",darken:[b()("#000").alpha(1/16).rgbString(),b()("#000").alpha(2/16).rgbString(),b()("#000").alpha(3/16).rgbString(),b()("#000").alpha(.25).rgbString(),b()("#000").alpha(5/16).rgbString(),b()("#000").alpha(6/16).rgbString(),b()("#000").alpha(7/16).rgbString(),b()("#000").alpha(.5).rgbString(),b()("#000").alpha(9/16).rgbString()],lighten:[b()("#fff").alpha(1/16).rgbString(),b()("#fff").alpha(2/16).rgbString(),b()("#fff").alpha(3/16).rgbString(),b()("#fff").alpha(.25).rgbString()]}};const{scale:y}=j;class f extends o.a.Component{render(){const{props:e}=this,t={outer:{marginLeft:e.pad?-y[0]:0,marginRight:e.pad?-y[0]:0,marginBottom:e.mb?8:null},inner:{display:"table",width:"100%"}},n=o.a.Children.map(e.children,((t,n)=>{const s=e.pad||!1;return o.a.cloneElement(t,{pad:s})}));return Object(r.jsx)("div",{style:t.outer,children:Object(r.jsx)("div",{style:t.inner,children:n})})}}class v extends o.a.Component{render(){const{props:e}=this,t={display:"table-cell",verticalAlign:"middle",whiteSpace:"nowrap",width:e.fill?"100%":null,paddingLeft:e.pad?y[0]:0,paddingRight:e.pad?y[0]:0};return Object(r.jsx)("div",{style:t,children:e.children})}}f.Cell=v;var O=f;class M extends o.a.Component{render(){return Object(r.jsx)("div",{style:{width:24}})}}var w=M;const{scale:S,colors:k}=j;class C extends o.a.Component{render(){const{props:e}=this,t=e.text||e.children,n={fontSize:14,fontWeight:"bold",fontFamily:"inherit",textDecoration:"none",lineHeight:S[6]-2*S[1]+"px",height:S[6],margin:0,padding:S[1],boxSizing:"border-box",border:"1px solid",borderRadius:2,color:e.active?k.blue:"inherit",backgroundColor:e.active?k.darken[3]:"transparent",borderColor:e.active?"transparent":k.darken[3],cursor:"pointer"};return Object(r.jsx)("a",{...e,style:n,children:t})}}var P=C;class D extends o.a.Component{render(){const e={header:{fontSize:14,fontWeight:"bold",boxSizing:"border-box",height:48,paddingLeft:16,paddingRight:16,paddingTop:8,paddingBottom:8},link:{textTransform:"uppercase",letterSpacing:".2em",display:"inline-block",color:"inherit",textDecoration:"none"}};return Object(r.jsx)("header",{style:e.header,children:Object(r.jsxs)(O,{children:[Object(r.jsxs)(O.Cell,{children:[Object(r.jsx)("a",{href:"http://jxnblk.com",style:e.link,children:"Jxnblk"})," / ",Object(r.jsx)("a",{href:"/paths",style:e.link,children:"Paths"})]}),Object(r.jsx)(O.Cell,{fill:!0}),Object(r.jsx)(O.Cell,{children:Object(r.jsx)(P,{href:"https://github.com/jxnblk/paths",children:"GitHub"})}),Object(r.jsx)(O.Cell,{children:Object(r.jsx)(w,{})}),Object(r.jsx)(O.Cell,{})]})})}}var U=D;class A extends o.a.Component{render(){const{grid:e,preview:t,width:n,height:s,resolution:o}=this.props;function i(e,t,o){const i=[];for(var a=0;a<=t;a++)i.push(["M",0,a*o,"H",n].join(" "));for(a=0;a<=e;a++)i.push(["M",a*o,0,"V",s].join(" "));return i.join(" ")}const a=[i(n/o,s/o,o)].join(" "),l=[i(n/16,s/16,16)].join(" "),c={g:{fill:"none",stroke:"currentcolor"},minor:{strokeWidth:.5,vectorEffect:"non-scaling-stroke",opacity:.5},major:{strokeWidth:.5,vectorEffect:"non-scaling-stroke",opacity:.75}};return!(!e||t)&&Object(r.jsxs)("g",{style:c.g,children:[Object(r.jsx)("path",{d:a,style:c.minor}),Object(r.jsx)("path",{d:l,style:c.major})]})}}var z=A;class F extends o.a.Component{render(){const{ast:e,preview:t}=this.props,n={opacity:t?1:.75};return Object(r.jsx)("g",{style:n,children:Object(r.jsx)("path",{d:h.a.stringify(e)})})}}var L=F,R=function(e,t,n){for(let s=t-1;s>-1;s--)if(e[s]&&"undefined"!==typeof e[s].params[n])return parseFloat(e[s].params[n]);return 0};const{scale:T,colors:W}=j;class E extends o.a.Component{render(){const{ast:e,current:t,preview:n}=this.props,s={g:{fill:"none",stroke:"currentcolor",vectorEffect:"non-scaling-stroke"},guides:{vectorEffect:"non-scaling-stroke",strokeWidth:2},current:{vectorEffect:"non-scaling-stroke",strokeWidth:3,stroke:W.blue}};R(e.commands,t,"x"),R(e.commands,t,"y");let o=!1;e.commands[t]&&e.commands[t].type.match(/(S|T)/)&&t>1?o={commands:[{type:"M",params:{x:R(e.commands,t-1,"x"),y:R(e.commands,t-1,"y")}},e.commands[t-1],e.commands[t]]}:e.commands[t]&&(o={commands:[{type:"M",params:{x:R(e.commands,t,"x"),y:R(e.commands,t,"y")}},e.commands[t]]});const i=o?h.a.stringify(o):"";return!n&&Object(r.jsxs)("g",{style:s.g,children:[Object(r.jsx)("path",{d:h.a.stringify(e),style:s.guides}),Object(r.jsx)("path",{d:i,style:s.current})]})}}var B=E;class K extends o.a.Component{render(){const{props:e}=this,{current:t,index:n,zoom:s,x:o,y:i}=e,a=12/s,l={point:{fill:"transparent",stroke:"none",cursor:"pointer"},pointRing:{opacity:t===n?0:.5,vectorEffect:"non-scaling-stroke"}};return Object(r.jsxs)("g",{children:[Object(r.jsx)("circle",{cx:o,cy:i,onFocus:e.selectPoint.bind(this,n),onMouseDown:e.onMouseDown.bind(this,n),onMouseMove:e.onMouseMove,onMouseUp:e.onMouseUp,r:2*a,style:l.point,tabIndex:"1"}),Object(r.jsx)("circle",{cx:o,cy:i,onMouseUp:e.onMouseUp,r:a,style:l.pointRing})]})}}var H=K;const{scale:$,colors:I}=j;class Z extends o.a.Component{render(){const{props:e}=this,{x:t,y:n,zoom:s,isMoving:o,current:i}=e,a=12/s,l={current:{fill:I.blue,stroke:"none",opacity:.25,cursor:"pointer",vectorEffect:"non-scaling-stroke",transition:"r .1s ease-out"},currentRing:{stroke:I.blue,strokeWidth:3,vectorEffect:"non-scaling-stroke",transition:"r .05s ease-out"}};return!(i<0)&&Object(r.jsxs)("g",{children:[Object(r.jsx)("circle",{cx:t,cy:n,onMouseDown:e.onMouseDown.bind(this,["x","y"]),onMouseMove:e.onMouseMove,onMouseUp:e.onMouseUp,r:o?2*a:a,style:l.current,tabIndex:"1"}),Object(r.jsx)("circle",{cx:t,cy:n,onMouseUp:e.onMouseUp,r:o?1.25*a:a,style:l.currentRing})]})}}var X=Z;const{scale:Y,colors:G}=j;class J extends o.a.Component{render(){const{props:e}=this,{ast:t,current:n,zoom:s}=e,o=t.commands[n]?t.commands[n].params:{},i=[],a=10/s;if(Object.keys(o).length>2){const{x1:e,y1:s,x2:a,y2:r}=o;"undefined"!==typeof e&&"undefined"!==typeof s&&i.push({x:e,y:s,params:["x1","y1"],to:{x:R(t.commands,n,"x"),y:R(t.commands,n,"y")}}),"undefined"!==typeof a&&"undefined"!==typeof r&&i.push({x:a,y:r,params:["x2","y2"],to:{x:o.x,y:o.y}})}const l={handle:{fill:G.blue,stroke:"none",cursor:"pointer"},hit:{fill:"transparent",stroke:"none",cursor:"pointer"},line:{stroke:G.blue,strokeWidth:.25,opacity:.5}};return!!i.length&&Object(r.jsx)("g",{children:i.map((function(t,n){return Object(r.jsxs)("g",{children:[Object(r.jsx)("path",{d:["M",t.x,t.y,"L",t.to.x,t.to.y].join(" "),style:l.line}),Object(r.jsx)("rect",{height:a,onMouseUp:e.onMouseUp,style:l.handle,width:a,x:t.x-a/2,y:t.y-a/2}),Object(r.jsx)("rect",{height:2*a,onMouseDown:e.onMouseDown.bind(this,t.params),onMouseMove:e.onMouseMove,onMouseUp:e.onMouseUp,style:l.hit,width:2*a,x:t.x-a,y:t.y-a})]},n)}))})}}var V=J;const{scale:q,colors:N}=j;o.a.Component;const{scale:Q,colors:_}=j;class ee extends o.a.Component{constructor(){super(),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),this.handleAddPoint=this.handleAddPoint.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleTranslate=this.handleTranslate.bind(this),this.handleScale=this.handleScale.bind(this)}handleMouseDown(e,t){const{updateState:n}=this.props;"number"===typeof e?(this.props.selectPoint(e),e=["x","y"]):Array.isArray(e),n({isPointMoving:!0,transformParams:e})}handleMouseUp(e){const{updateState:t}=this.props;t({isPointMoving:!1,isTranslating:!1,isScaling:!1,transformParams:!1,transformStart:!1})}handleMouseLeave(e){const{updateState:t}=this.props;t({isPointMoving:!1,isTranslating:!1,isScaling:!1,transformParams:!1,transformStart:!1})}handleMouseMove(e){const{ast:t,updateAst:n,updateState:s,isPointMoving:o,isTranslating:i,isScaling:a,transformStart:r,transformParams:l,current:d,width:h,height:p,snap:u,zoom:m,padding:b,resolution:g}=this.props,x=Object(c.cloneDeep)(t),j=e.nativeEvent;let y=j.offsetX/m-b,f=j.offsetY/m-b;if(u&&(y=Math.floor(y/g)*g||0,f=Math.floor(f/g)*g||0),o){const e=d,{params:t}=x.commands[e],s=l[0],o=l[1];y<0?y=0:y>h&&(y=h),f<0?f=0:f>p&&(f=p),"undefined"!==typeof t[s]&&(t[s]=y),"undefined"!==typeof t[o]&&(t[o]=f),n(x)}else if(i)x.translate(y-r.x,f-r.y),s({transformStart:{x:y,y:f}}),n(x);else if(a){const e=x.getCenter(),t=e.x,o=e.y,i=(y-t)/(r.x-t),a=(f-o)/(r.y-o),l=Math.abs(i)>=Math.abs(a)?i:a;isFinite(l)&&l>0&&(x.scale(l),s({transformStart:{x:y,y:f}}),n(x))}}handleAddPoint(e,t){const{props:n}=this,{ast:s,zoom:o,padding:i,current:a,snap:r,resolution:l,updateAst:d,selectPoint:h,updateState:p}=this.props,u=t.nativeEvent,m=Object(c.cloneDeep)(s);let b=u.offsetX/o-i,g=u.offsetY/o-i;r&&(b=Math.floor(b/l)*l||0,g=Math.floor(g/l)*l||0),m.commands.splice(e,0,{type:"L",params:{x:b,y:g}}),d(m),h(e),p({isPointMoving:!0,transformParams:["x","y"]})}handleTranslate(e){const{zoom:t,padding:n,snap:s,resolution:o,updateState:i}=this.props,a=e.nativeEvent;let r=a.offsetX/t-n,l=a.offsetY/t-n;s&&(r=Math.floor(r/o)*o||0,l=Math.floor(l/o)*o||0),i({selected:!0,isTranslating:!0,transformStart:{x:r,y:l}})}handleScale(e){const{zoom:t,padding:n,snap:s,resolution:o,updateState:i}=this.props,a=e.nativeEvent;let r=a.offsetX/t-n,l=a.offsetY/t-n;s&&(r=Math.floor(r/o)*o||0,l=Math.floor(l/o)*o||0),i({isScaling:!0,transformStart:{x:r,y:l}})}handleKeyDown(e){const{ast:t,current:n,width:s,height:o,snap:i,resolution:a,updateAst:r}=this.props,l=Object(c.cloneDeep)(t),{params:d}=l.commands[n];if(!(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)){switch(e.keyCode){case 38:e.preventDefault(),d.y>0&&(d.y=i?d.y-a:d.y-1);break;case 40:e.preventDefault(),d.y<o&&(d.y=i?d.y+a:d.y+1);break;case 37:d.x>0&&(d.x=i?d.x-a:d.x-1);break;case 39:d.x<s&&(d.x=i?d.x+a:d.x+1)}r(l)}}render(){const e=this,{props:t}=this,{ast:n,current:s,zoom:o,preview:i,selected:a}=this.props,l=Object(c.cloneDeep)(n),h=Object(d.stringify)(n),p=n.commands.filter((e=>Object.keys(e.params).length)).map(((e,t)=>{const{params:s}=e;return{x:"undefined"!==typeof s.x?s.x:R(n.commands,t,"x"),y:"undefined"!==typeof s.y?s.y:R(n.commands,t,"y")}})),u=l.commands.filter((e=>Object.keys(e.params).length||e.type.match(/z|Z/))).map(((e,t)=>{if(e.type.match(/z|Z/)){const s=Object(c.findLastIndex)(n.commands,((e,n)=>!(n>t)&&e.type.match(/m|M/)));e.type="L",e.params={x:n.commands[s].params.x||0,y:n.commands[s].params.y||0}}return{commands:[{type:"M",params:{x:R(n.commands,t,"x"),y:R(n.commands,t,"y")}},e]}})),m=n.commands[s]?n.commands[s].params:{},b={x:"undefined"!==typeof m.x?m.x:R(n.commands,s,"x"),y:"undefined"!==typeof m.y?m.y:R(n.commands,s,"y")},g={g:{fill:"none",stroke:"currentcolor",strokeWidth:2},mouseRect:{stroke:"none",fill:"transparent"},curvePoint:{fill:_.blue,stroke:"none",cursor:"pointer"},path:{fill:"transparent",stroke:"none",cursor:"move"},segment:{fill:"none",stroke:"transparent",strokeWidth:4,cursor:"pointer"}};return!i&&Object(r.jsxs)("g",{onKeyDown:this.handleKeyDown,onMouseLeave:this.handleMouseLeave,onMouseUp:this.handleMouseUp,style:g.g,children:[">",Object(r.jsx)("rect",{height:t.height+2*t.padding,onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp,style:g.mouseRect,transform:`translate(${-t.padding} ${-t.padding})`,width:t.width+2*t.padding}),Object(r.jsx)("rect",{height:t.height,onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp,style:g.mouseRect,width:t.width}),Object(r.jsx)("path",{d:h,onMouseDown:this.handleTranslate,onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp,style:g.path}),u.map(((e,t)=>{const n=Object(d.stringify)(e);return Object(r.jsx)("path",{ref:`segment-${t}`,d:n,onMouseDown:this.handleAddPoint.bind(this,t),onMouseUp:this.handleMouseUp,style:g.segment},t)})),p.map(((n,s)=>Object(r.jsx)(H,{...t,index:s,onMouseDown:e.handleMouseDown,onMouseMove:e.handleMouseMove,onMouseUp:e.handleMouseUp,x:n.x,y:n.y},s))),Object(r.jsx)(X,{...t,...b,onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp}),Object(r.jsx)(V,{...t,onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp})]})}}var te=ee;class ne extends o.a.Component{render(){const{props:e}=this,{width:t,height:n,zoom:s,padding:o}=e,i=t+2*o,a=n+2*o;const l={outer:{position:"relative",width:i*s,margin:"auto"},svg:{display:"block",margin:"auto",overflow:"visible"}};return Object(r.jsx)("div",{style:l.outer,children:Object(r.jsx)("svg",{fill:"currentcolor",height:a*s,onClick:function(e){e.stopPropagation()},style:l.svg,viewBox:[0,0,i,a].join(" "),width:i*s,children:Object(r.jsxs)("g",{transform:`translate(${o} ${o})`,children:[Object(r.jsx)(z,{...e}),Object(r.jsx)(L,{...e}),Object(r.jsx)(B,{...e}),Object(r.jsx)(te,{...e})]})})})}}var se=ne;const{scale:oe,colors:ie}=j;class ae extends o.a.Component{render(){const{props:e}=this,t=e.text||e.children,n=Object(c.assign)({fontSize:14,fontWeight:"bold",fontFamily:"inherit",lineHeight:oe[6]-2*oe[1]+"px",height:oe[6],margin:0,padding:oe[1],boxSizing:"border-box",border:0,color:e.active?ie.blue:"inherit",backgroundColor:e.active?ie.darken[3]:"transparent",borderColor:e.active?"transparent":ie.darken[3],cursor:"pointer"},e.style);return Object(r.jsx)("button",{...e,style:n,children:t})}}var re=ae;const{scale:le,colors:ce}=j;class de extends o.a.Component{constructor(){super(),this.decrement=this.decrement.bind(this),this.increment=this.increment.bind(this)}decrement(){const{props:e}=this,t=e.value-e.step;t>e.min-e.step&&e.onChange(t)}increment(){const{props:e}=this,t=e.value+e.step;t<e.max+e.step&&e.onChange(t)}render(){const{props:e}=this,t=2,n={left:e.value-e.step<e.min,right:e.value+e.step>e.max},s={container:{display:"inline-block",whiteSpace:"nowrap"},left:{fontSize:20,lineHeight:1,paddingTop:0,paddingBottom:0,width:le[6],borderRadius:[t,0,0,t].join(" "),opacity:n.left?.5:null},right:{fontSize:20,lineHeight:1,paddingTop:0,paddingBottom:0,width:le[6],marginLeft:-1,borderRadius:[0,t,t,0].join(" "),opacity:n.right?.5:null}};return Object(r.jsxs)("div",{style:s.container,children:[Object(r.jsx)(re,{disabled:n.left,onClick:this.decrement,style:s.left,text:"-",title:"Decrement"}),Object(r.jsx)(re,{disabled:n.right,onClick:this.increment,style:s.right,text:"+",title:"Increment"})]})}}de.defaultProps={value:0,min:0,max:100,step:1};var he=de;const{scale:pe}=j;class ue extends o.a.Component{render(){const{props:e}=this;const t=(n=e.ast,`\n\x3c!-- Generated with http://jxnblk.com/paths --\x3e\n<svg\n  xmlns='http://www.w3.org/2000/svg'\n  viewBox='0 0 64 64'\n  width='64' height='64'\n  fill='currentcolor'>\n  <path d='${h.a.stringify(n)}' />\n</svg>`);var n;const s=new Blob([t],{type:"text/plain"}),o=(window.URL||window.webkitURL).createObjectURL(s),i={container:{padding:pe[1]},text:{fontSize:14}};return Object(r.jsx)("div",{style:i.container,children:Object(r.jsxs)(O,{children:[Object(r.jsx)(O.Cell,{children:Object(r.jsxs)(re,{active:e.grid,onClick:function(){e.toggle("grid")},children:["Grid ",e.grid&&"\u2022"]})}),Object(r.jsx)(O.Cell,{children:Object(r.jsxs)(re,{active:e.snap,onClick:function(){e.toggle("snap")},children:["Snap ",e.snap&&"\u2022"]})}),Object(r.jsx)(O.Cell,{children:Object(r.jsxs)(re,{active:e.preview,onClick:function(){e.toggle("preview")},children:["Preview ",e.preview&&"\u2022"]})}),Object(r.jsx)(O.Cell,{children:Object(r.jsx)(P,{download:"paths.svg",href:o,children:"Download"})}),Object(r.jsx)(O.Cell,{children:Object(r.jsx)(w,{})}),Object(r.jsx)(O.Cell,{children:Object(r.jsx)(he,{max:64,min:1,onChange:function(t){e.updateState({zoom:t})},step:1,value:e.zoom})}),Object(r.jsx)(O.Cell,{children:Object(r.jsxs)("div",{style:i.text,children:["Zoom ",e.zoom,"x"]})}),Object(r.jsx)(O.Cell,{fill:!0})]})})}}var me=ue;class be extends o.a.Component{constructor(){super(),this.deselect=this.deselect.bind(this)}deselect(e){e.stopPropagation(),this.props.selectPoint(-1)}render(){const{props:e}=this,t={container:{position:"relative",height:"calc(100vh - 48px)"},viewport:{position:"absolute",top:0,right:0,bottom:48,left:0,overflow:"auto",WebkitOverflowScrolling:"touch"},table:{display:"table",width:"100%",height:"100%"},cell:{position:"relative",display:"table-cell",verticalAlign:"middle"},toolbar:{position:"absolute",left:0,right:0,bottom:0,height:48,overflowX:"auto",WebkitOverflowScrolling:"touch"}};return Object(r.jsxs)("div",{onClick:this.deselect,style:t.container,children:[Object(r.jsx)("div",{style:t.viewport,children:Object(r.jsx)("div",{style:t.table,children:Object(r.jsx)("div",{style:t.cell,children:Object(r.jsx)(se,{...e})})})}),Object(r.jsx)("div",{style:t.toolbar,children:Object(r.jsx)(me,{...e})})]})}}var ge=be,xe=function(e,t){const n=Object(c.cloneDeep)(e);return n.commands=n.commands.map((e=>{const n={};return Object.keys(e.params).forEach((s=>{n[s]=Object(c.round)(e.params[s],t||6)})),e.params=n,e})),n},je=function(e,t){e={x:parseFloat(e.x),y:parseFloat(e.y)},t={x:parseFloat(t.x),y:parseFloat(t.y)};return{x:e.x>t.x?(e.x-t.x)/2+t.x:(t.x-e.x)/2+e.x,y:e.y>t.y?(e.y-t.y)/2+t.y:(t.y-e.y)/2+e.y}};class ye extends o.a.Component{render(){const{props:e}=this,{scale:t,colors:n}=e,s={div:{marginBottom:e.mb?12:null},label:{fontSize:14,fontWeight:"bold",display:"block",marginBottom:4},select:{fontSize:14,fontFamily:"inherit",width:"100%",height:t[6],paddingLeft:t[1],paddingRight:t[1],boxSizing:"border-box",border:0,boxShadow:"none",borderRadius:0,color:"inherit",backgroundColor:"transparent"}};return e.hideLabel&&(s.label.position="absolute",s.label.height=1,s.label.width=1,s.label.overflow="hidden",s.label.clip="rect(1px, 1px, 1px, 1px)"),Object(r.jsxs)("div",{style:s.div,children:[Object(r.jsx)("label",{htmlFor:e.name,style:s.label,children:e.label}),Object(r.jsx)("select",{...e,style:s.select,children:e.options.map(((e,t)=>Object(r.jsx)("option",{...e},t)))})]})}}var fe=ye;const{scale:ve,colors:Oe}=j;class Me extends o.a.Component{render(){const{props:e}=this,{name:t,label:n}=e,s={div:{display:"table",width:"100%",marginBottom:e.mb?4:null,backgroundColor:"transparent",border:"none",borderRadius:2},label:{fontSize:14,fontWeight:"bold",display:"table-cell",paddingLeft:8,paddingRight:4,whiteSpace:"nowrap",verticalAlign:"baseline",opacity:.5},input:{fontSize:16,fontFamily:"inherit",display:"table-cell",verticalAlign:"baseline",width:"100%",height:ve[6],paddingLeft:0,paddingRight:8,boxSizing:"border-box",color:"inherit",boxShadow:"none",border:"none",backgroundColor:"transparent",borderRadius:2,WebkitAppearance:"none"}},o=e.type||"text";return Object(r.jsxs)("div",{style:s.div,children:[Object(r.jsx)("label",{htmlFor:t,style:s.label,children:n}),Object(r.jsx)("input",{...e,style:s.input,type:o})]})}}var we=Me;class Se extends o.a.Component{constructor(){super(),this.handleTypeChange=this.handleTypeChange.bind(this),this.handleParamChange=this.handleParamChange.bind(this),this.handleFocus=this.handleFocus.bind(this),this.removePoint=this.removePoint.bind(this)}handleTypeChange(e){const{ast:t}=this.props,{index:n}=this.props,{value:s}=e.target,o=t.commands[n],i=R(t.commands,n,"x"),a=R(t.commands,n,"y");o.type=s;const r={};u.a[s].forEach((e=>{if("undefined"===typeof o.params[e])if(e.match(/^x/))if("undefined"!==typeof o.params.x){const t=parseFloat(o.params.x),n=t>i?(t-i)/2+i:(i-t)/2+t;r[e]=n}else r[e]=i;else if(e.match(/^y/))if("undefined"!==typeof o.params.y){const t=parseFloat(o.params.y),n=t>a?(t-a)/2+a:(a-t)/2+t;r[e]=n}else r[e]=a;else r[e]=0;else r[e]=o.params[e]})),o.params=r,this.props.updateAst(t)}handleParamChange(e){const{ast:t}=this.props,n=e.target.name.split("-"),s=this.props.index||n[1],o=n[2],{value:i}=e.target;t.commands[s].params[o]=i,this.props.updateAst(t)}handleFocus(e){const t=parseInt(e.target.name.split("-")[1],10);this.props.selectPoint(t)}removePoint(e){const{ast:t}=this.props,{index:n}=this.props;t.commands.splice(n,1),this.props.updateAst(t)}render(){const e=this,{props:t}=this,{command:n,current:s,index:o,scale:i,colors:a,snap:l,resolution:c}=t,d=Object.keys(u.a).filter((e=>e.match(/[A-Z]/))).filter((e=>"A"!==e)).map((e=>({label:e,value:e}))),h=o===s,p={div:{marginBottom:i[1],color:h?a.blue:"inherit"},grid:{},cell:{display:"inline-block",verticalAlign:"middle",boxSizing:"border-box",width:"25%"}};return Object(r.jsx)("div",{style:p.div,children:Object(r.jsxs)("div",{style:p.grid,children:[Object(r.jsx)("div",{style:p.cell,children:Object(r.jsx)(fe,{...t,disabled:0===o,hideLabel:!0,label:"Command",name:`command-${o}`,onChange:0===o?null:this.handleTypeChange,onFocus:this.handleFocus,options:d,value:n.type})}),n.params.map(((n,s)=>Object(r.jsx)("div",{style:p.cell,children:Object(r.jsx)(we,{type:"number",...t,label:n.name,name:`command-${o}-${n.name}`,onChange:e.handleParamChange,onFocus:e.handleFocus,step:l?c:1,value:Math.round(100*n.value)/100})},s))),Object(r.jsx)("div",{style:p.cell,children:Object(r.jsx)(re,{disabled:0===o,onClick:this.removePoint,style:{fontSize:20,lineHeight:1,paddingTop:0,paddingBottom:0,opacity:.5,display:0===o?"none":null},title:"Remove Point",children:"\xd7"})})]})})}}var ke=Se;class Ce extends o.a.Component{constructor(){super(),this.addPoint=this.addPoint.bind(this)}addPoint(){const{ast:e,width:t,height:n}=this.props,s=e.commands[e.commands.length-2].params||{x:t/2,y:n/2},o=e.commands[0].params||{x:t/2,y:n/2},i={type:"L",params:je(s,o)};e.commands.splice(e.commands.length-1,0,i),this.props.selectPoint(e.commands.length-2),this.props.updateAst(e)}render(){const{props:e}=this,{ast:t,styles:n,scale:o,colors:i}=e,a=(h.a.stringify(xe(e.ast,2)),t.commands.map((e=>{const t=u.a[e.type].map(((t,n)=>({name:t,value:e.params[t]})));return{type:e.type,params:t}}))),l={container:{position:"relative",boxSizing:"border-box",height:"calc(100vh - 48px)",paddingTop:o[3],paddingBottom:128},inner:{overflow:"auto",WebkitOverflowScrolling:"touch",height:"100%"},ad:{position:"absolute",left:0,right:0,bottom:0,padding:16}};return Object(r.jsxs)("div",{style:l.container,children:[Object(r.jsxs)("div",{style:l.inner,children:[Object(r.jsx)("div",{children:a.map(((t,n)=>(t.params.length,Object(s.createElement)(ke,{...e,key:n,command:t,index:n}))))}),Object(r.jsx)("div",{style:{padding:o[3]},children:Object(r.jsx)(re,{onClick:this.addPoint,style:{display:"block",textAlign:"center",width:"100%"},children:"+ Add Point"})})]}),Object(r.jsx)("div",{style:l.ad,children:Object(r.jsx)("h2",{children:"ass"})})]})}}var Pe=Ce,De=n(7),Ue=n.n(De);class Ae extends o.a.Component{constructor(){super(),this.updateUrl=Object(c.debounce)(this.updateUrl.bind(this),200),this.updateState=this.updateState.bind(this)}updateUrl(e){const{props:t}=this,{history:n}=window,s=xe(t.ast),o=Object(d.stringify)(s),i=Ue.a.stringify({d:o});n.pushState(o,"",`?${i}`)}updateState(e){const{props:t}=this,n=window.location.search.replace(/^\?/,""),s=Ue.a.parse(n);if(s.d){const e=Object(d.parse)(s.d);t.updateAst(e)}}componentDidMount(){this.updateState()}componentWillUnmount(){}componentDidUpdate(){this.updateUrl()}render(){return!1}}var ze=Ae;n(35);const Fe=e=>{let{children:t}=e;return Object(r.jsx)(r.Fragment,{children:t})},Le=e=>{let{children:t}=e;return Object(r.jsx)(r.Fragment,{children:t})};class Re extends o.a.Component{constructor(){super(),this.state={ast:h.a.parse("M8 48 L56 48 L32 12 Z"),current:1,selected:!1,width:64,height:64,zoom:6,grid:!0,resolution:2,snap:!0,preview:!1,mode:"select",history:[],isPointMoving:!1,isTranslating:!1,isScaling:!1,transformParams:!1,transformStart:!1},this.updateAst=this.updateAst.bind(this),this.setHistory=this.setHistory.bind(this),this.handleChange=this.handleChange.bind(this),this.selectPoint=this.selectPoint.bind(this),this.updateState=this.updateState.bind(this),this.toggle=this.toggle.bind(this),this.undo=this.undo.bind(this)}updateAst(e){this.setHistory(e),this.setState({ast:e})}setHistory(e){const{history:t}=this.state;t.length&&t[0]!==h.a.stringify(e)?t.unshift(Object(c.cloneDeep)(e)):t.length||t.unshift(Object(c.cloneDeep)(e)),t.length>128&&t.pop(),this.setState({history:t})}handleChange(e){const t=e.target.name,n=parseFloat(e.target.value)||e.target.value;this.setState({[t]:n})}selectPoint(e){this.setState({selected:!1,current:e})}toggle(e){const t=!this.state[e];this.setState({[e]:t})}updateState(e){this.setState(e)}undo(){const{history:e,ast:t}=this.state;if(e.length){const t=e.shift();this.setState({ast:t})}}handleKeyDown(e){e.metaKey&&90===e.keyCode&&(e.preventDefault(),this.undo())}render(){const{state:e}=this,{props:t}=this,n={color:"white",backgroundColor:t.colors.dark};return Object(r.jsxs)("div",{onKeyDown:this.handleKeyDown.bind(this),style:n,children:[Object(r.jsx)(U,{}),Object(r.jsxs)(Fe,{gutter:8,min:256,children:[Object(r.jsx)(Le,{min:320,children:Object(r.jsx)(ge,{...t,...e,handleChange:this.handleChange,selectPoint:this.selectPoint,toggle:this.toggle,updateAst:this.updateAst,updateState:this.updateState})}),Object(r.jsx)(Le,{max:320,min:256,children:Object(r.jsx)(Pe,{...t,...e,selectPoint:this.selectPoint,updateAst:this.updateAst})})]}),Object(r.jsx)(ze,{...t,...e,updateAst:this.updateAst})]})}}var Te=Re;a.a.render(Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(Te,{...j})}),document.getElementById("app")),l()}},[[36,1,2]]]);
//# sourceMappingURL=main.17978ca4.chunk.js.map